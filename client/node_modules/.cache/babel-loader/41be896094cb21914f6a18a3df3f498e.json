{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\\\u041F\\u0430\\u043D\\u0430\\u0446\\u0435\\u044F\\\\DEV\\\\react\\\\fond-bsp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\\\u041F\\u0430\\u043D\\u0430\\u0446\\u0435\\u044F\\\\DEV\\\\react\\\\fond-bsp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\\\u041F\\u0430\\u043D\\u0430\\u0446\\u0435\\u044F\\\\DEV\\\\react\\\\fond-bsp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\\\u041F\\u0430\\u043D\\u0430\\u0446\\u0435\\u044F\\\\DEV\\\\react\\\\fond-bsp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\\\u041F\\u0430\\u043D\\u0430\\u0446\\u0435\\u044F\\\\DEV\\\\react\\\\fond-bsp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\\\u041F\\u0430\\u043D\\u0430\\u0446\\u0435\\u044F\\\\DEV\\\\react\\\\fond-bsp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import style from'./BookLectureContainer.module.scss';import{connect}from'react-redux';import RenderPlainText from'../Render/RenderPlainText/RenderPlainText';import BookLectureForm from'../Forms/BookLectureForm/BookLectureForm';import MyEmail from'./Email';import{renderEmail}from'react-html-email';import*as axios from\"axios\";var BookLectureContainer=/*#__PURE__*/function(_Component){_inherits(BookLectureContainer,_Component);function BookLectureContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,BookLectureContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BookLectureContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.onSubmit=function(formData){var messageHtml=renderEmail(React.createElement(MyEmail,{formData:_objectSpread({},formData)}));// console.log(formData);\naxios({method:\"POST\",url:\"https://www.fondnn.org.ua/book-a-lecture/send\",data:{name:formData.firstName,email:formData.email,messageHtml:messageHtml}}).then(function(response){if(response.data.msg==='success'){alert(\"Email sent, awesome!\");_this.resetForm();}else if(response.data.msg==='fail'){alert(\"Oops, something went wrong. Try again\");}});// }\n};return _this;}_createClass(BookLectureContainer,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:style.bookLectureContainer},React.createElement(RenderPlainText,{partOfState:this.props.state.partOfState}),React.createElement(BookLectureForm,{form:\"bookLecture\",onSubmit:this.onSubmit}));}}]);return BookLectureContainer;}(Component);var mapStateToProps=function mapStateToProps(state){return{state:state.narcoticsReducer};};export default connect(mapStateToProps,{})(BookLectureContainer);","map":{"version":3,"sources":["C:/Users/Панацея/DEV/react/fond-bsp/client/src/components/BookLectureContainer/BookLectureContainer.js"],"names":["React","Component","style","connect","RenderPlainText","BookLectureForm","MyEmail","renderEmail","axios","BookLectureContainer","onSubmit","formData","messageHtml","method","url","data","name","firstName","email","then","response","msg","alert","resetForm","bookLectureContainer","props","state","partOfState","mapStateToProps","narcoticsReducer"],"mappings":"mgCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,oCAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,eAAP,KAA4B,2CAA5B,CACA,MAAOC,CAAAA,eAAP,KAA4B,0CAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,SAApB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,C,GAEMC,CAAAA,oB,ubAEFC,Q,CAAW,SAACC,QAAD,CAAc,CAErB,GAAMC,CAAAA,WAAW,CAAIL,WAAW,CAAC,oBAAC,OAAD,EAAS,QAAQ,kBAAMI,QAAN,CAAjB,EAAD,CAAhC,CACA;AAEAH,KAAK,CAAC,CACFK,MAAM,CAAE,MADN,CAEFC,GAAG,CAAC,+CAFF,CAGFC,IAAI,CAAE,CACFC,IAAI,CAAEL,QAAQ,CAACM,SADb,CAEFC,KAAK,CAAEP,QAAQ,CAACO,KAFd,CAGFN,WAAW,CAAEA,WAHX,CAHJ,CAAD,CAAL,CAQGO,IARH,CAQQ,SAACC,QAAD,CAAY,CAChB,GAAIA,QAAQ,CAACL,IAAT,CAAcM,GAAd,GAAsB,SAA1B,CAAoC,CAChCC,KAAK,CAAC,sBAAD,CAAL,CACA,MAAKC,SAAL,GACH,CAHD,IAGM,IAAGH,QAAQ,CAACL,IAAT,CAAcM,GAAd,GAAsB,MAAzB,CAAgC,CAClCC,KAAK,CAAC,uCAAD,CAAL,CACH,CACJ,CAfD,EAgBJ;AAEC,C,uFAGQ,CACL,MACI,4BAAK,SAAS,CAAEpB,KAAK,CAACsB,oBAAtB,EACI,oBAAC,eAAD,EAAiB,WAAW,CAAE,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,WAA/C,EADJ,CAEI,oBAAC,eAAD,EAAiB,IAAI,CAAC,aAAtB,CAAoC,QAAQ,CAAE,KAAKjB,QAAnD,EAFJ,CADJ,CAMH,C,kCAnC8BT,S,EAsCnC,GAAM2B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACF,KAAD,QAAY,CAChCA,KAAK,CAAEA,KAAK,CAACG,gBADmB,CAAZ,EAAxB,CAIA,cAAe1B,CAAAA,OAAO,CAACyB,eAAD,CAAkB,EAAlB,CAAP,CAA6BnB,oBAA7B,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport style from './BookLectureContainer.module.scss'\nimport { connect } from 'react-redux';\nimport RenderPlainText from '../Render/RenderPlainText/RenderPlainText';\nimport BookLectureForm from '../Forms/BookLectureForm/BookLectureForm';\nimport MyEmail from './Email';\nimport { renderEmail } from 'react-html-email';\nimport * as axios from \"axios\";\n\nclass BookLectureContainer extends Component {\n    // {this.props.state.partOfState.id === \"Opium\" ? <OneNarcotic partOfState={this.props.state.partOfState}/> : null }\n    onSubmit = (formData) => {\n\n        const messageHtml =  renderEmail(<MyEmail formData={{...formData}} />);\n        // console.log(formData);\n\n        axios({\n            method: \"POST\", \n            url:\"https://www.fondnn.org.ua/book-a-lecture/send\",\n            data: {\n                name: formData.firstName,\n                email: formData.email,\n                messageHtml: messageHtml\n            }\n        }).then((response)=>{\n            if (response.data.msg === 'success'){\n                alert(\"Email sent, awesome!\"); \n                this.resetForm()\n            }else if(response.data.msg === 'fail'){\n                alert(\"Oops, something went wrong. Try again\")\n            }\n        })\n    // }\n\n    };\n\n\n    render() {\n        return (\n            <div className={style.bookLectureContainer}>\n                <RenderPlainText partOfState={this.props.state.partOfState}/>\n                <BookLectureForm form='bookLecture' onSubmit={this.onSubmit}/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    state: state.narcoticsReducer\n});\n\nexport default connect(mapStateToProps, {})(BookLectureContainer);"]},"metadata":{},"sourceType":"module"}