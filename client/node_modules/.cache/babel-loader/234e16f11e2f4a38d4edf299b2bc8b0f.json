{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041F\\u0430\\u043D\\u0430\\u0446\\u0435\\u044F\\\\DEV\\\\react\\\\fond-bsp\\\\client\\\\src\\\\components\\\\BookLectureContainer\\\\BookLectureContainer.js\";\nimport React, { Component } from 'react';\nimport style from './BookLectureContainer.module.scss';\nimport { connect } from 'react-redux';\nimport RenderPlainText from '../Render/RenderPlainText/RenderPlainText';\nimport BookLectureForm from '../Forms/BookLectureForm/BookLectureForm';\nimport MyEmail from './Email';\nimport { renderEmail } from 'react-html-email';\nimport * as axios from \"axios\";\n\nclass BookLectureContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onSubmit = formData => {\n      const messageHtml = renderEmail(React.createElement(MyEmail, {\n        formData: { ...formData\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      })); // console.log(formData);\n\n      axios({\n        method: \"POST\",\n        url: \"https://www.fondnn.org.ua/book-a-lecture/send\",\n        data: {\n          name: formData.firstName,\n          email: formData.email,\n          messageHtml: messageHtml\n        }\n      }).then(response => {\n        if (response.data.msg === 'success') {\n          alert(\"Email sent, awesome!\");\n          this.resetForm();\n        } else if (response.data.msg === 'fail') {\n          alert(\"Oops, something went wrong. Try again\");\n        }\n      }); // }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: style.bookLectureContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(RenderPlainText, {\n      partOfState: this.props.state.partOfState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(BookLectureForm, {\n      form: \"bookLecture\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  state: state.narcoticsReducer\n});\n\nexport default connect(mapStateToProps, {})(BookLectureContainer);","map":{"version":3,"sources":["C:/Users/Панацея/DEV/react/fond-bsp/client/src/components/BookLectureContainer/BookLectureContainer.js"],"names":["React","Component","style","connect","RenderPlainText","BookLectureForm","MyEmail","renderEmail","axios","BookLectureContainer","onSubmit","formData","messageHtml","method","url","data","name","firstName","email","then","response","msg","alert","resetForm","render","bookLectureContainer","props","state","partOfState","mapStateToProps","narcoticsReducer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,oCAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,eAAP,MAA4B,0CAA5B;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;;AAEA,MAAMC,oBAAN,SAAmCR,SAAnC,CAA6C;AAAA;AAAA;;AAAA,SAEzCS,QAFyC,GAE7BC,QAAD,IAAc;AAErB,YAAMC,WAAW,GAAIL,WAAW,CAAC,oBAAC,OAAD;AAAS,QAAA,QAAQ,EAAE,EAAC,GAAGI;AAAJ,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAD,CAAhC,CAFqB,CAGrB;;AAEAH,MAAAA,KAAK,CAAC;AACFK,QAAAA,MAAM,EAAE,MADN;AAEFC,QAAAA,GAAG,EAAC,+CAFF;AAGFC,QAAAA,IAAI,EAAE;AACFC,UAAAA,IAAI,EAAEL,QAAQ,CAACM,SADb;AAEFC,UAAAA,KAAK,EAAEP,QAAQ,CAACO,KAFd;AAGFN,UAAAA,WAAW,EAAEA;AAHX;AAHJ,OAAD,CAAL,CAQGO,IARH,CAQSC,QAAD,IAAY;AAChB,YAAIA,QAAQ,CAACL,IAAT,CAAcM,GAAd,KAAsB,SAA1B,EAAoC;AAChCC,UAAAA,KAAK,CAAC,sBAAD,CAAL;AACA,eAAKC,SAAL;AACH,SAHD,MAGM,IAAGH,QAAQ,CAACL,IAAT,CAAcM,GAAd,KAAsB,MAAzB,EAAgC;AAClCC,UAAAA,KAAK,CAAC,uCAAD,CAAL;AACH;AACJ,OAfD,EALqB,CAqBzB;AAEC,KAzBwC;AAAA;;AA4BzCE,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAEtB,KAAK,CAACuB,oBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,eAAD;AAAiB,MAAA,WAAW,EAAE,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAC,aAAtB;AAAoC,MAAA,QAAQ,EAAE,KAAKlB,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAMH;;AAnCwC;;AAsC7C,MAAMmB,eAAe,GAAIF,KAAD,KAAY;AAChCA,EAAAA,KAAK,EAAEA,KAAK,CAACG;AADmB,CAAZ,CAAxB;;AAIA,eAAe3B,OAAO,CAAC0B,eAAD,EAAkB,EAAlB,CAAP,CAA6BpB,oBAA7B,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport style from './BookLectureContainer.module.scss'\nimport { connect } from 'react-redux';\nimport RenderPlainText from '../Render/RenderPlainText/RenderPlainText';\nimport BookLectureForm from '../Forms/BookLectureForm/BookLectureForm';\nimport MyEmail from './Email';\nimport { renderEmail } from 'react-html-email';\nimport * as axios from \"axios\";\n\nclass BookLectureContainer extends Component {\n    // {this.props.state.partOfState.id === \"Opium\" ? <OneNarcotic partOfState={this.props.state.partOfState}/> : null }\n    onSubmit = (formData) => {\n\n        const messageHtml =  renderEmail(<MyEmail formData={{...formData}} />);\n        // console.log(formData);\n\n        axios({\n            method: \"POST\", \n            url:\"https://www.fondnn.org.ua/book-a-lecture/send\",\n            data: {\n                name: formData.firstName,\n                email: formData.email,\n                messageHtml: messageHtml\n            }\n        }).then((response)=>{\n            if (response.data.msg === 'success'){\n                alert(\"Email sent, awesome!\"); \n                this.resetForm()\n            }else if(response.data.msg === 'fail'){\n                alert(\"Oops, something went wrong. Try again\")\n            }\n        })\n    // }\n\n    };\n\n\n    render() {\n        return (\n            <div className={style.bookLectureContainer}>\n                <RenderPlainText partOfState={this.props.state.partOfState}/>\n                <BookLectureForm form='bookLecture' onSubmit={this.onSubmit}/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    state: state.narcoticsReducer\n});\n\nexport default connect(mapStateToProps, {})(BookLectureContainer);"]},"metadata":{},"sourceType":"module"}